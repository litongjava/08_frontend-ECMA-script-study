<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./jquery-3.6.0.min.js"></script>
</head>

<body>

    <script>

        // function getAjax(url) {
        //     return new Promise((resolve, reject) => {
        //         // 网络请求
        //         const client = new XMLHttpRequest();
        //         client.open("get", url);
        //         client.responseType = "json"
        //         client.send();
        //         client.onreadystatechange = function () {
        //             if (client.readyState === 4) {
        //                 if (client.status === 200) {
        //                     resolve(client.response)
        //                 } else {
        //                     reject(new Error(client.statusText))
        //                 }
        //             }
        //         }
        //     })
        // }

        // getAjax("http://iwenwiki.com/api/blueberrypai/getChengpinInfo.php")
        // .then(res =>{
        //     console.log(res);
        //     return res.chengpinInfo;
        //     // throw new Error('test');
        // },error =>{
        //     console.log(error);
        // }).catch(err =>{
        //     // 上一个then方法发生错误会触发
        //     console.log(err);
        // }).finally(() =>{
        //     console.log("不管是否发生错误，我都会执行");
        // })

        // 回调地狱
        // function(res){
        //     function(data){
        //         function(result){
        //             function(title){
        //                 console.log(title);
        //             }
        //         }
        //     }
        // }

        // var url1 = "http://iwenwiki.com/api/musicimg/1.png"
        // var url2 = "http://iwenwiki.com/api/musicimg/2.png"

        // var promise1 = new Promise(function (resolve, reject) {
        //     var image = new Image();
        //     image.src = url1;
        //     image.onload = function () {
        //         resolve(image)
        //     }
        //     image.onerror = function () {
        //         reject(new Error('Could not load image at ' + url1))
        //     }
        // })

        // var promise2 = new Promise(function (resolve, reject) {
        //     var image = new Image();
        //     image.src = url2;
        //     image.onload = function () {
        //         resolve(image)
        //     }
        //     image.onerror = function () {
        //         reject(new Error('Could not load image at ' + url2))
        //     }
        // })

        // Promise.all([promise1,promise2]).then(data =>{
        //     console.log(data);
        // })

    </script>

</body>

</html>